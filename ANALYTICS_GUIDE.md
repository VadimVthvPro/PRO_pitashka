# üìä –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∞–Ω–∞–ª–∏—Ç–∏–∫–µ PROpitashka

## –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∫–ª—é—á–µ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫ –≤–∞—à–µ–≥–æ Telegram-–±–æ—Ç–∞ PROpitashka.

## üìÅ –§–∞–π–ª—ã

- **`analytics_dashboard.sql`** - SQL-—Å–∫—Ä–∏–ø—Ç —Å –≥–æ—Ç–æ–≤—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏ –¥–ª—è –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ó–∞–ø—É—Å–∫ –≤ PostgreSQL

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –≤–∞—à–µ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
psql -U postgres -d propitashka

# –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å
\i analytics_dashboard.sql
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `analytics_dashboard.sql` –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –Ω—É–∂–Ω—ã–π –∑–∞–ø—Ä–æ—Å –≤ –≤–∞—à PostgreSQL –∫–ª–∏–µ–Ω—Ç (pgAdmin, DBeaver –∏ —Ç.–¥.).

## üìà –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏

### 1. **DAU (Daily Active Users)**
- **–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é
- **–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**: –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —Ç—Ä–µ–Ω–¥ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- **–ó–∞–ø—Ä–æ—Å #1** –≤ `analytics_dashboard.sql`

### 2. **MAU (Monthly Active Users)**
- **–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç**: –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —Ç–µ–∫—É—â–µ–º –º–µ—Å—è—Ü–µ
- **–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**: –û—Ü–µ–Ω–∏—Ç–µ –º–∞—Å—à—Ç–∞–± –≤–∞—à–µ–π –∞–∫—Ç–∏–≤–Ω–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏
- **–ó–∞–ø—Ä–æ—Å #2** –≤ `analytics_dashboard.sql`

### 3. **–ù–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏**
- **–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç**: –î–∏–Ω–∞–º–∏–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π
- **–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**: –û—Ü–µ–Ω–∏—Ç–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã—Ö –∫–∞–º–ø–∞–Ω–∏–π
- **–ó–∞–ø—Ä–æ—Å #3** –≤ `analytics_dashboard.sql`

### 4. **Activation Rate (–ê–∫—Ç–∏–≤–∞—Ü–∏—è)**
- **–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç**: % –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–±–∞–≤–∏–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–Ω—É –∑–∞–ø–∏—Å—å –æ –µ–¥–µ
- **–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**: –ü–æ–Ω–∏–º–∞–π—Ç–µ, –Ω–∞—Å–∫–æ–ª—å–∫–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω –≤–∞—à onboarding
- **–¶–µ–ª–µ–≤–æ–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å**: 40%+
- **–ó–∞–ø—Ä–æ—Å #4** –≤ `analytics_dashboard.sql`

### 5. **1-Day Retention (–£–¥–µ—Ä–∂–∞–Ω–∏–µ –Ω–∞ 1 –¥–µ–Ω—å)**
- **–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç**: % –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –≤–µ—Ä–Ω—É–≤—à–∏—Ö—Å—è –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- **–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**: –û—Ü–µ–Ω–∏—Ç–µ "–ª–∏–ø–∫–æ—Å—Ç—å" –ø—Ä–æ–¥—É–∫—Ç–∞
- **–¶–µ–ª–µ–≤–æ–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å**: 25%+
- **–ó–∞–ø—Ä–æ—Å #5** –≤ `analytics_dashboard.sql`

### 6. **7-Day Retention (–£–¥–µ—Ä–∂–∞–Ω–∏–µ –Ω–∞ 7 –¥–µ–Ω—å)**
- **–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç**: % –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∞–∫—Ç–∏–≤–Ω—ã—Ö —á–µ—Ä–µ–∑ –Ω–µ–¥–µ–ª—é –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- **–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**: –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç–∏
- **–¶–µ–ª–µ–≤–æ–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å**: 15%+
- **–ó–∞–ø—Ä–æ—Å #6** –≤ `analytics_dashboard.sql`

### 7. **Average Actions Per User**
- **–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç**: –°—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ–π—Å—Ç–≤–∏–π –Ω–∞ –æ–¥–Ω–æ–≥–æ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**: –ü–æ–Ω–∏–º–∞–π—Ç–µ –≥–ª—É–±–∏–Ω—É engagement
- **–ó–∞–ø—Ä–æ—Å #7** –≤ `analytics_dashboard.sql`

### 8. **Referral Source Analysis (UTM-–∞–Ω–∞–ª–∏–∑)**
- **–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç**: –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —Ç—Ä–∞—Ñ–∏–∫–∞
- **–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**: –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–µ –±—é–¥–∂–µ—Ç—ã
- **–ó–∞–ø—Ä–æ—Å #8** –≤ `analytics_dashboard.sql`

### 9. **Top Referral Codes**
- **–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç**: –°–∞–º—ã–µ —É—Å–ø–µ—à–Ω—ã–µ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ –∫–æ–¥—ã (–±–ª–æ–≥–µ—Ä—ã)
- **–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**: –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –ª—É—á—à–∏—Ö –∞–º–±–∞—Å—Å–∞–¥–æ—Ä–æ–≤
- **–ó–∞–ø—Ä–æ—Å #9** –≤ `analytics_dashboard.sql`

### 10. **User Engagement Summary**
- **–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç**: –û–±—â–∞—è —Å–≤–æ–¥–∫–∞ –ø–æ —Ç–∏–ø–∞–º –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- **–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**: –ë—ã—Å—Ç—Ä—ã–π –æ–±–∑–æ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π
- **–ó–∞–ø—Ä–æ—Å #10** –≤ `analytics_dashboard.sql`

### 11. **Cohort Analysis (–ö–æ–≥–æ—Ä—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑)**
- **–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç**: –£–¥–µ—Ä–∂–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ –Ω–µ–¥–µ–ª—è–º —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- **–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**: –û—Ü–µ–Ω–∏—Ç–µ –≤–ª–∏—è–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø—Ä–æ–¥—É–∫—Ç–∞ –Ω–∞ retention
- **–ó–∞–ø—Ä–æ—Å #11** –≤ `analytics_dashboard.sql`

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –ï–∂–µ–¥–Ω–µ–≤–Ω–æ
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ **DAU** (–∑–∞–ø—Ä–æ—Å #1)
- –°–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ **–Ω–æ–≤—ã–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏** (–∑–∞–ø—Ä–æ—Å #3)

### –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ **Activation Rate** (–∑–∞–ø—Ä–æ—Å #4)
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ **1-Day Retention** (–∑–∞–ø—Ä–æ—Å #5)
- –û—Ü–µ–Ω–∏–≤–∞–π—Ç–µ **—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤** (–∑–∞–ø—Ä–æ—Å #8)

### –ï–∂–µ–º–µ—Å—è—á–Ω–æ
- –ü–æ–ª–Ω—ã–π **Cohort Analysis** (–∑–∞–ø—Ä–æ—Å #11)
- –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ **—Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤** (–∑–∞–ø—Ä–æ—Å—ã #8, #9)
- –û—Ü–µ–Ω–∫–∞ **—Å—Ä–µ–¥–Ω–µ–≥–æ engagement** (–∑–∞–ø—Ä–æ—Å #7)

## üîß –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

–í—ã –º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –æ—Ç–ø—Ä–∞–≤–∫—É –æ—Ç—á–µ—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é:

### Cron Job (Linux/Mac)

```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ DAU
cat > /path/to/daily_stats.sh << 'EOF'
#!/bin/bash
psql -U postgres -d propitashka -c "
SELECT 
    CURRENT_DATE as report_date,
    COUNT(DISTINCT user_id) AS daily_active_users
FROM (
    SELECT user_id FROM food WHERE date = CURRENT_DATE
    UNION ALL
    SELECT user_id FROM user_training WHERE date = CURRENT_DATE
    UNION ALL
    SELECT user_id FROM water WHERE data = CURRENT_DATE
) AS user_activity;
" | mail -s "PROpitashka Daily Stats" your@email.com
EOF

chmod +x /path/to/daily_stats.sh

# –î–æ–±–∞–≤—å—Ç–µ –≤ crontab –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –≤ 9:00
crontab -e
# 0 9 * * * /path/to/daily_stats.sh
```

### Python Script

–í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å Python-—Å–∫—Ä–∏–ø—Ç –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç—á–µ—Ç–æ–≤ –≤ Telegram:

```python
import psycopg2
from telegram import Bot

def send_daily_report(bot_token, admin_chat_id):
    # –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –ë–î
    conn = psycopg2.connect(dbname='propitashka', user='postgres', password='your_password')
    cur = conn.cursor()
    
    # –í—ã–ø–æ–ª–Ω—è–µ–º –∑–∞–ø—Ä–æ—Å
    cur.execute("""
        SELECT COUNT(DISTINCT user_id) AS dau
        FROM (
            SELECT user_id FROM food WHERE date = CURRENT_DATE
            UNION ALL
            SELECT user_id FROM user_training WHERE date = CURRENT_DATE
        ) AS activity
    """)
    
    dau = cur.fetchone()[0]
    
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ Telegram
    bot = Bot(token=bot_token)
    bot.send_message(
        chat_id=admin_chat_id,
        text=f"üìä –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞\n\nüë• DAU: {dau}"
    )
    
    conn.close()
```

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è PostgreSQL
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω–¥–µ–∫—Å—ã –Ω–∞ –ø–æ–ª—è—Ö `user_id`, `date`, `created_at` –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
- –î–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö (>100k –∑–∞–ø–∏—Å–µ–π) —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –∞–Ω–∞–ª–∏—Ç–∏–∫–µ, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ PostgreSQL –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.





